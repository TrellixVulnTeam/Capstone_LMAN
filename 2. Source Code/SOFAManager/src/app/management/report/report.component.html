<header class="page-header" style="padding: 15px;">
    <div class="container-fluid" >
        <h3 class="no-margin-bottom">Post report</h3>
    </div>
</header>
<div class="row" style="height: 500px;">
    <div class="col-2"></div>
    <div class="col-8">
        <div *ngIf="this.listPostReport.length > 0" class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>From account</th>
                                <th>To post</th>
                                <th>Posted by</th>
                                <th>Reason</th>
                                <th>Status</th>
                                <th>Detail</th>
                                <th>Option</th>
                                <th>Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let rp of this.listPostReport | paginate: { id: 'postReport',
                            itemsPerPage: 5,
                            currentPage: pagePost,
                            totalItems: totalRecordPost }">
                                <th scope="row">{{rp.id}}</th>
                                <td><a [routerLink]="['/user-detail', rp.fromAccount]">{{rp.fromAccountName}}</a></td>
                                <td>{{rp.toPost}}</td>
                                <td *ngIf="rp.toAccount != 0"><a [routerLink]="['/user-detail', rp.toAccount]">{{rp.toAccountName}}</a></td>
                                <td *ngIf="rp.toAccount == 0">{{rp.toAccountName}}</td>
                                <td><p *ngFor="let rs of rp.listReason"><strong>{{rs.name}}</strong></p></td>
                                <td *ngIf="!rp.isProcessed && rp.toAccount != 0">pending</td>
                                <td *ngIf="rp.isProcessed || rp.toAccount == 0">processed</td>
                                <td><a [routerLink]="['/post-detail', rp.toPost]">detail</a></td>
                                <!-- delete -->
                                <td *ngIf="!rp.isProcessed && rp.toAccount != 0"><a [routerLink]="" (click)="handlePostReport(rp.id, rp.toPost)">delete</a></td>
                                <td *ngIf="rp.isProcessed || rp.toAccount == 0">delete</td>
                                <!-- reject -->
                                <td *ngIf="!rp.isProcessed && rp.toAccount != 0"><a [routerLink]="" (click)="handleReject(rp.id, true)">reject</a></td>
                                <td *ngIf="rp.isProcessed || rp.toAccount == 0">reject</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div *ngIf="listPostReport.length == 0" class="text-center" style="padding-top: 10px;">
            <h3>Không có báo cáo</h3>
        </div>
    </div>
</div>
<div *ngIf="this.listPostReport.length > 0" style="text-align:center">
    <pagination-controls class="justify-content-center" id="postReport"
    (pageChange)="pagePost = $event"
    maxSize="5"
    directionLinks="true"
    autoHide="true"
    responsive="true"
    previousLabel="Previous"
    nextLabel="Next"
    screenReaderPaginationLabel="Pagination"
    screenReaderPageLabel="page"
    screenReaderCurrentLabel="You're on page">
</pagination-controls></div>
<header class="page-header" style="padding: 15px;">
    <div class="container-fluid" >
        <h3 style="display: inline-block;" class="no-margin-bottom">User report</h3>
    </div>
</header>
<div class="row">
    <div class="col-2"></div>
    <div class="col-8">
        <div *ngIf="listUserReport.length > 0" class="card">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>From account</th>
                                <th>To Account</th>
                                <th>Reason</th>
                                <th>Status</th>
                                <th>Detail</th>
                                <th>Option</th>
                                <th>Option</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let user of listUserReport | paginate: { id: 'userReport',
                            itemsPerPage: 10,
                            currentPage: pageUser,
                            totalItems: totalRecordUser }">
                            <th scope="row">{{user.id}}</th>
                            <td><a [routerLink]="['/user-detail', user.fromAccount]">{{user.fromAccountName}}</a></td>
                            <td><a [routerLink]="['/user-detail', user.toAccount]">{{user.toAccountName}}</a></td>
                            <td><p *ngFor="let rs of user.listReason"><strong>{{rs.name}}</strong></p></td>
                            <td *ngIf="!user.isProcessed && user.toAccount != 0">pending</td>
                            <td *ngIf="user.isProcessed || user.toAccount == 0">processed</td>
                            <td><a [routerLink]="['/user-detail', user.toAccount]">detail</a></td>

                            <td *ngIf="!user.isProcessed && user.toAccount != 0"><a [routerLink]="" (click)="handleUserReport(user.id, user.toAccount)">ban</a></td>
                            <td *ngIf="user.isProcessed || user.toAccount == 0">ban</td>
                            <td *ngIf="!user.isProcessed && user.toAccount != 0"><a [routerLink]="" (click)="handleReject(user.id, false)">reject</a></td>
                            <td *ngIf="user.isProcessed || user.toAccount == 0">reject</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div *ngIf="listUserReport.length == 0" class="text-center" style="padding-top: 10px;">
            <h3>Không có báo cáo</h3>
        </div>
    </div>
</div>
<div *ngIf="listUserReport.length > 0" style="text-align:center">
    <pagination-controls class="justify-content-center" id="userReport"
    (pageChange)="pageUser = $event"
    maxSize="5"
    directionLinks="true"
    autoHide="true"
    responsive="true"
    previousLabel="Previous"
    nextLabel="Next"
    screenReaderPaginationLabel="Pagination"
    screenReaderPageLabel="page"
    screenReaderCurrentLabel="You're on page">
</pagination-controls></div>


